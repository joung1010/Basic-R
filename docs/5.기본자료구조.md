## **R의 자료 구조 (Data Structures)**

R의 자료 구조는 **차원(dimension)**과 **자료형의 동질성**에 따라 분류됩니다. 이해하기 쉽게 표로 정리하면:

| 차원 | 동질적 (같은 자료형) |
| --- | --- |
| 1차원 | **Vector (벡터)** |
| 2차원 | **Matrix (행렬)** |
| 3차원+ | **Array (배열)** |

## 1. 벡터 (Vector) - 1차원, 동질적

### 1.1 벡터 생성

```r
*# c() 함수로 벡터 생성*
numbers <- c(1, 2, 3, 4, 5)
names <- c("김철수", "이영희", "박민수")
logicals <- c(TRUE, FALSE, TRUE, FALSE)

*# 연속된 숫자 벡터*
seq_vec <- 1:10                    *# 1부터 10까지*
seq_vec2 <- seq(0, 20, by = 2)     *# 0부터 20까지 2씩 증가*
rep_vec <- rep(5, times = 3)       *# 5를 3번 반복: 5 5 5*

print(numbers)
print(seq_vec)
print(rep_vec)
```

### 1.2 벡터 인덱싱 (Vector Indexing)

```r
*# 벡터 생성*
fruits <- c("사과", "바나나", "오렌지", "포도", "딸기")

*# 인덱싱 (R은 1부터 시작!)*
fruits[1]           *# "사과" (첫 번째 원소)*
fruits[3]           *# "오렌지" (세 번째 원소)*
fruits[c(1, 3, 5)]  *# "사과" "오렌지" "딸기"*
fruits[1:3]         *# "사과" "바나나" "오렌지"# 음수 인덱싱 (해당 위치 제외)*
fruits[-1]          *# 첫 번째 제외한 나머지*
fruits[-c(2, 4)]    *# 2, 4번째 제외한 나머지# 조건부 인덱싱*
numbers <- c(10, 5, 8, 12, 3, 15)
numbers[numbers > 8]     *# 8보다 큰 수들: 10 12 15*
numbers[numbers %% 2 == 0]  *# 짝수들: 10 8 12*
```

### 1.3 벡터 연산

```r
vec1 <- c(1, 2, 3, 4)
vec2 <- c(5, 6, 7, 8)

*# 벡터 간 연산 (요소별 연산)*
vec1 + vec2         *# 6 8 10 12*
vec1 * vec2         *# 5 12 21 32*
vec1^2              *# 1 4 9 16# 벡터와 스칼라 연산*
vec1 + 10           *# 11 12 13 14*
vec1 * 2            *# 2 4 6 8# 벡터 재활용 (recycling)*
short_vec <- c(1, 2)
long_vec <- c(10, 20, 30, 40)
short_vec + long_vec  *# 11 22 31 42 (1,2가 반복됨)*
```

## 2. 행렬 (Matrix) - 2차원, 동질적

### 2.1 행렬 생성r

```r
*# matrix() 함수로 생성*
mat1 <- matrix(1:12, nrow = 3, ncol = 4)
print(mat1)
*#      [,1] [,2] [,3] [,4]# [1,]    1    4    7   10# [2,]    2    5    8   11# [3,]    3    6    9   12# 행 우선으로 채우기*
mat2 <- matrix(1:12, nrow = 3, ncol = 4, byrow = TRUE)
print(mat2)
*#      [,1] [,2] [,3] [,4]# [1,]    1    2    3    4# [2,]    5    6    7    8# [3,]    9   10   11   12# 벡터를 행렬로 변환*
vec <- 1:12
dim(vec) <- c(3, 4)  *# 3행 4열로 차원 설정*
print(vec)

*# rbind(), cbind()로 생성*
row1 <- c(1, 2, 3)
row2 <- c(4, 5, 6)
mat3 <- rbind(row1, row2)  *# 행으로 결합*
print(mat3)

col1 <- c(1, 4)
col2 <- c(2, 5)
col3 <- c(3, 6)
mat4 <- cbind(col1, col2, col3)  *# 열로 결합*
print(mat4)
```

### 2.2 행렬 인덱싱

```r
*# 행렬 생성*
mat <- matrix(1:12, nrow = 3, ncol = 4)

*# 기본 인덱싱 [행, 열]*
mat[2, 3]           *# 2행 3열의 값: 8*
mat[1, ]            *# 1행 전체: 1 4 7 10*
mat[, 2]            *# 2열 전체: 4 5 6*
mat[1:2, 2:3]       *# 1-2행, 2-3열의 부분행렬# 이름으로 인덱싱 (행, 열에 이름 부여)*
rownames(mat) <- c("A", "B", "C")
colnames(mat) <- c("X", "Y", "Z", "W")
print(mat)

mat["A", "Y"]       *# A행 Y열*
mat[c("A", "C"), c("X", "Z")]  *# A,C행과 X,Z열*
```

### 2.3 행렬 연산

```r
*# 행렬 생성*
A <- matrix(c(1, 2, 3, 4), nrow = 2)
B <- matrix(c(5, 6, 7, 8), nrow = 2)

print(A)
print(B)

*# 요소별 연산*
A + B               *# 요소별 덧셈*
A * B               *# 요소별 곱셈*
A^2                 *# 요소별 제곱# 행렬 곱셈*
A %*% B             *# 행렬 곱셈# 전치행렬*
t(A)                *# A의 전치행렬# 행렬 정보*
dim(A)              *# 차원: 2 2*
nrow(A)             *# 행 개수: 2*
ncol(A)             *# 열 개수: 2*
```

## 3. 배열 (Array) - 3차원+, 동질적

### 3.1 배열 생성

```r
*# 3차원 배열 생성 (2x3x2)*
arr <- array(1:12, dim = c(2, 3, 2))
print(arr)

*# 차원별로 이름 부여*
dimnames(arr) <- list(
  c("행1", "행2"),           *# 행 이름*
  c("열1", "열2", "열3"),     *# 열 이름*  
  c("층1", "층2")            *# 층 이름*
)
print(arr)
```

### 3.2 배열 인덱싱

```r
*# 3차원 인덱싱 [행, 열, 층]*
arr[1, 2, 1]        *# 1행 2열 1층의 값*
arr[, , 1]          *# 1층 전체 (2x3 행렬)*
arr[1, , ]          *# 1행 전체 (3x2 행렬)# 이름으로 인덱싱*
arr["행1", "열2", "층1"]
```

### 3.3 실제 활용 예시

```r
*# 예: 3개 지역, 4개 분기, 2개 제품의 판매량 데이터*
sales_data <- array(
  data = sample(100:1000, 24),  *# 랜덤 판매량*
  dim = c(3, 4, 2),
  dimnames = list(
    지역 = c("서울", "부산", "대구"),
    분기 = c("1Q", "2Q", "3Q", "4Q"),
    제품 = c("제품A", "제품B")
  )
)

print(sales_data)

*# 서울의 제품A 연간 판매량*
sales_data["서울", , "제품A"]

*# 1분기 전체 판매량*
sales_data[, "1Q", ]
```